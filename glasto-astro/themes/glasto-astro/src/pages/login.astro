---
import Base from "@/layouts/Base.astro";

const title = "Login | DeepPeak";
const meta_title = "Secure Login Page";
const description = "Access your account securely with our modern login system.";
---
  
<Base title={title} meta_title={meta_title} description={description}>
  <div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4">
    <div class="w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 transition-all duration-300 hover:shadow-2xl">
      <div class="flex justify-center mb-8">
        <svg class="w-12 h-12 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c0 3.517-3 6-3 6s-3-2.483-3-6 3-6 3-6 3 2.483 3 6zm8 0c0 3.517-3 6-3 6s-3-2.483-3-6 3-6 3-6 3 2.483 3 6z"></path>
        </svg>
      </div>

      <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-white mb-2">Welcome Back</h2>
      <p class="text-center text-gray-500 dark:text-gray-300 mb-8">Sign in to continue to your account</p>

      <form class="space-y-6" onsubmit="return validateForm(event)">
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
          <input 
            type="email" 
            id="email"
            class="w-full px-4 py-3 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 dark:text-white"
            placeholder="you@example.com"
          />
          <p id="emailError" class="text-red-500 text-xs mt-1 hidden">Please enter a valid email address.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
          <input 
            type="password" 
            id="password"
            class="w-full px-4 py-3 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 dark:placeholder-gray-500 dark:text-white"
            placeholder="••••••••"
          />
          <p id="passwordError" class="text-red-500 text-xs mt-1 hidden">Password must be at least 6 characters long.</p>
        </div>

        <div class="flex items-center justify-between">
          <label class="flex items-center space-x-3 text-gray-600 dark:text-gray-400">
            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-500 rounded focus:ring-blue-500 border border-gray-300 dark:border-gray-600" />
            <span class="text-sm">Remember me</span>
          </label>
          <a href="/forgot-password" class="text-sm text-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200">Forgot password?</a>
        </div>

        <button 
          type="submit" 
          class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg transition-all duration-200 font-semibold shadow-md hover:shadow-lg"
        >
          Sign In
        </button>

        <p class="text-center text-sm text-gray-500 dark:text-gray-400 mt-8">
          Don't have an account? 
          <a href="/signup" class="text-blue-500 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200">Sign up</a>
        </p>
      </form>
    </div>
  </div>

  <script>
    function validateForm(event) {
      event.preventDefault(); // Prevent form from submitting immediately

      // Get input values
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();
      const emailError = document.getElementById("emailError");
      const passwordError = document.getElementById("passwordError");

      let isValid = true;

      // Validate email
      if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
        emailError.classList.remove("hidden");
        isValid = false;
      } else {
        emailError.classList.add("hidden");
      }

      // Validate password (minimum 6 characters)
      if (password.length < 6) {
        passwordError.classList.remove("hidden");
        isValid = false;
      } else {
        passwordError.classList.add("hidden");
      }

      // If everything is valid, submit the form
      if (isValid) {
        event.target.submit();
      }
    }
  </script>
</Base>
